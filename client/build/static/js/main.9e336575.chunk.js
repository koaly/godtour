(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(317)},121:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},127:function(e,t,a){},311:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(71),o=a.n(l),s=a(321),i=(a(121),a(123),a(125),a(127),a(74),a(3)),c=a(4),u=a(6),m=a(5),d=a(7),h=a(165),g=a(319),p=a(9),b=a.n(p),f=a(12),v=a(72),E=a(36),k=a(8),N=a.n(k),y=a(34),O=function(e){var t=e.name,a=e.label,n=e.error,l=Object(y.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"strongg",htmlFor:t},a),r.a.createElement("input",Object.assign({},l,{name:t,className:"form-control"})),n&&r.a.createElement("div",{className:"alert alert-danger"},n))},j=function(e){var t=e.name,a=e.label,n=e.options,l=e.error,o=Object(y.a)(e,["name","label","options","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"strongg",htmlFor:t},a),r.a.createElement("select",Object.assign({name:t,id:t},o,{className:"form-control"}),r.a.createElement("option",{value:""}),n.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})),l&&r.a.createElement("div",{className:"alert alert-danger"},l))},w=function(e){var t=e.name,a=e.label,n=e.error,l=Object(y.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"strongg",htmlFor:t},a),r.a.createElement("textarea",Object.assign({},l,{name:t,id:t,className:"form-control"})),n&&r.a.createElement("div",{className:"alert alert-danger"},n))},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).validate=function(){var e=N.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t={},n=!0,r=!1,l=void 0;try{for(var o,s=e.details[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;t[i.path[0]]=i.message}}catch(c){r=!0,l=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw l}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(E.a)({},t,n),l=Object(E.a)({},t,a.schema[t]),o=N.a.validate(r,l).error;return o?o.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.handleChange=function(e){var t=e.currentTarget,n=Object(v.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var l=Object(v.a)({},a.state.data);l[t.name]=t.value,a.setState({data:l,errors:n})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate(),className:"btn btn-primary mb-4"},e)}},{key:"renderSelect",value:function(e,t,a){var n=this.state,l=n.data,o=n.errors;return r.a.createElement(j,{name:e,value:l[e],label:t,options:a,onChange:this.handleChange,error:o[e]})}},{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3?arguments[3]:void 0,l=this.state,o=l.data,s=l.errors;return r.a.createElement(O,{type:a,name:e,value:o[e],label:t,placeholder:n,onChange:this.handleChange,error:s[e]})}},{key:"renderTextarea",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3?arguments[3]:void 0,l=this.state,o=l.data,s=l.errors;return r.a.createElement(w,{type:a,name:e,value:o[e],label:t,placeholder:n,onChange:this.handleChange,error:s[e]})}}]),t}(n.Component),S=a(22),_=a.n(S),C=a(13);_.a.interceptors.response.use(function(e){return console.log(e),Promise.resolve(e)},function(e){return e.response&&e.response.status>=400&&e.response.status<500||C.toast.error("An unexpected error occurrred."),Promise.reject(e)});var x={get:_.a.get,post:_.a.post,put:_.a.put,delete:_.a.delete},L=a(115),T=a.n(L),I="/users/login",B="token";function F(){return(F=Object(f.a)(b.a.mark(function e(t,a){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post(I,{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem(B,r.user.token);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var q={login:function(e,t){return F.apply(this,arguments)},logout:function(){localStorage.removeItem(B)},getCurrentUser:function(){try{var e=localStorage.getItem(B);return T()(e)}catch(t){return null}},getJwt:function(){return localStorage.getItem("token")}},P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},errors:{}},a.schema={email:N.a.string().required().email().label("Email"),password:N.a.string().required().label("Password")},a.doSubmit=Object(f.a)(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.data,e.next=4,q.login(t.email,t.password);case 4:window.location="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.status>=400&&e.t0.response.status<500&&C.toast.error("Invalid email or password");case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:"dropdown nav-item space"},r.a.createElement(g.a,{className:"nav-link dropdown-toggle",to:"/login","data-toggle":"dropdown"},"Login"),r.a.createElement("ul",{id:"login-dp",className:" dropdown-menu dropdown-menu-right"},r.a.createElement("li",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},"Login With",r.a.createElement("div",{className:"social-buttons"},r.a.createElement("a",{href:"#"},r.a.createElement("button",{className:"btn btn-block btn-google"},r.a.createElement("i",{className:"fa fa-google"},"Google")))),"or",r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("email","Email","email","email"),this.renderInput("password","Password","password","password"),this.renderButton("Login")))),r.a.createElement("div",{className:"bottom text-center"},"New here ?",r.a.createElement(h.a,{to:"/register"},"Register")))))}}]),t}((n.Component,D)),M=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"convert_user_login",value:function(e){console.log("===============> UserConvert.convert_user_login",e);try{if(void 0!==e.user.token)return console.log("Have Value"),{have:!0,user_name:e.user.info.username,display_name:e.user.info.displayName,profile_image:e.user.info.imgsrc,gender:e.user.info.gender,status:e.user.info.status,id:e.user.info.id,use_google_id:e.user.info.isGoogle,google_id:e.user.info.googleID,email:e.user.info.email,register_date:e.user.info.registerDate,upgrade_reason:e.user.info.upgradeReason,upgrade_request:e.user.info.upgradeRequest,token:e.user.token}}catch(t){return console.log(t),{have:!1}}}},{key:"convert_user_data",value:function(e){return console.log("===============> UserConvert.convert_user_data"),console.log("=====> convert_user_data.data ",e),void 0!==e.have?{have:!1}:{have:!0,user_name:e.username,display_name:e.displayName,profile_image:e.imgsrc,gender:e.gender,status:e.status,id:e.id,use_google_id:e.isGoogle,google_id:e.googleID,email:e.email,register_date:e.registerDate,upgrade_reason:e.upgradeReason,upgrade_request:e.upgradeRequest}}}]),e}(),A=a(38),U=A._start_url,R=A._domain,W=A._port,J=new M,Y=function(){function e(t){Object(i.a)(this,e),console.log("===============> FetchAllUsers.construction");this.SumLink=U+R+":"+W+"/users",this.SendData={},this.SendInformation={}}return Object(c.a)(e,[{key:"get_all_users",value:function(e){var t=this;console.log("===============> FetchAllUsers.get_all_users"),fetch(this.SumLink).then(function(e){return t.SendInformation.status=e.status,t.SendInformation.url=e.url,t.SendInformation.type=e.type,t.SendInformation.ok=e.ok,e.json()}).then(function(a){t.SendData=a,e(t.SendInformation,t.SendData)})}},{key:"get_specific_user",value:function(e,t){var a=this;console.log("===============> FetchAllUsers.get_specific_user"),fetch(this.SumLink).then(function(e){return a.SendInformation.status=e.status,a.SendInformation.url=e.url,a.SendInformation.type=e.type,a.SendInformation.ok=e.ok,e.json()}).then(function(n){if(console.log("=====> get_specific_user.json",n),"email"===e.type)var r=a.filter_by_email(n,e.data);else if("id"===e.type)r=a.filter_by_id(n,e.data);else if("user_name"===e.type)r=a.filter_by_user_name(n,e.data);a.SendData=J.convert_user_data(r),t(a.SendInformation,a.SendData)})}},{key:"filter_by_email",value:function(e,t){console.log("===============> FetchAllUsers.filter_by_email");for(var a={have:!1},n=0;n<e.users.count;n++)if(t===e.users.user[n].email){a=e.users.user[n];break}return a}},{key:"filter_by_id",value:function(e,t){console.log("===============> FetchAllUsers.fileter_by_id");for(var a={have:!1},n=0;n<e.users.count;n++)if(t===e.users.user[n].id){a=e.users.user[n];break}return a}},{key:"filter_by_user_name",value:function(e,t){console.log("===============> FetchAllUsers.fileter_by_user_name");for(var a={have:!1},n=0;n<e.users.count;n++)if(t===e.users.user[n].username){a=e.users.user[n];break}return a}}]),e}(),z=function(e){var t=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},r.a.createElement(h.a,{className:"navbar-brand",to:"/"},"To-ur-world"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavbar"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/tourIntroduce"},"Tour Introduce")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/editTour"},"Edit Tour")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/cancelBook"},"Cancel Booking"))),t&&0!==t.info.status&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/addTour"},"Add Tour"))),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},!t&&r.a.createElement(P,null),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile"},t.info.displayName)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/logout"},"Logout"))))))},G=a(18),H=function(){return r.a.createElement("footer",{className:"footer-classic context-dark bg-image"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row row-30"},r.a.createElement("div",{className:"col-md-4 col-xl-5"},r.a.createElement("div",{className:"pr-xl-4"},r.a.createElement("h5",{className:"mt-3"},"Copyright \xa9 2018"),r.a.createElement("h5",{className:"mt-3"},"All Rights Reserved")),r.a.createElement("hr",{className:"info-color mb-4 mt-0 d-inline-block mx-auto"})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"mt-3"},"Contacts"),r.a.createElement("dl",{className:"contact-list"},r.a.createElement("dt",null,"Address:"),r.a.createElement("dd",null,"798 South Park Avenue, Jaipur, Raj")),r.a.createElement("dl",{className:"contact-list"},r.a.createElement("dt",null,"email:"),r.a.createElement("dd",null,"hahahaha")),r.a.createElement("dl",{className:"contact-list"},r.a.createElement("dt",null,"phones:"),r.a.createElement("dd",null,"hahahaha"))),r.a.createElement("div",{className:"col-md-4 col-xl-3"},r.a.createElement("h5",{className:"mt-3"},"Links"),r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Projects")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"About")))))),r.a.createElement("div",{className:"row no-gutters social-container"},r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"https://twitter.com/tour_wor1d",className:"social-inner"},r.a.createElement("p",null,r.a.createElement(G.j,null)),r.a.createElement("p",null,"Twitter"))),r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"https://www.facebook.com/tour.wor1d",className:"social-inner"},r.a.createElement("p",null,r.a.createElement(G.e,null)),r.a.createElement("p",null,"Facebook"))),r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"https://www.youtube.com/channel/UCejOXMM5zGyD8GUETtqhJmQ",className:"social-inner"},r.a.createElement("p",null,r.a.createElement(G.k,null)),r.a.createElement("p",null,"Youtube"))),r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"https://www.instagram.com/tour.wor1d/",className:"social-inner"},r.a.createElement("p",null,r.a.createElement(G.f,null)),r.a.createElement("p",null,"Instagram")))))},Z=a(11),X=(a(85),function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"convert_data_tour",value:function(e){return{have:!1}}},{key:"convert_individual_tour",value:function(e){var t=e;return t.freeSeat=e.maxSeat-e.currentSeat,t}},{key:"manage_group_tour_order",value:function(e,t,a){console.log("===============> TourConvert.manage_group_tour_order",e),console.log("=====> General information request ",t,a,e.count);for(var n=[],r=0;r<a&&r+t<e.count;r++)n.push(this.convert_individual_tour(e.tours[t+r]));return n}}]),e}()),Q=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"convert_response",value:function(e){return{use_body:e.bodyUsed,header:e.headers,ok:e.ok,redirect:e.redirected,status:e.status,type:e.type,url:e.url}}}]),e}(),$=a(38),V=$._start_url,K=$._domain,ee=$._port,te=$._path,ae=new X,ne=new Q,re=function(){function e(){Object(i.a)(this,e),this.FrontLink=V+K+":"+ee,this.SendData={},this.SendInfomation={},this.PostData={}}return Object(c.a)(e,[{key:"get_all_tours",value:function(e,t,a){var n=this;console.log("===============> FetchAllTours.get_all_tours "),fetch(this.FrontLink+te._all_tours).then(function(e){return console.log("=====> get_all_tours.response",e),n.SendInfomation=ne.convert_response(e),e.json()}).then(function(r){console.log("=====> get_all_tours.json",r),n.SendData=ae.manage_group_tour_order(r,e,t),console.log("=====> get_all_tours.SendData",n.SendData),a(n.SendInfomation,n.SendData)})}}]),e}(),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={Loading:!0,Max:!1,CurrentOrder:0,ListTour:[]},a.condition=0,a.ShowMoreCallback=a.ShowMoreCallback.bind(Object(Z.a)(Object(Z.a)(a))),a.FetchReceiveTourCallback=a.FetchReceiveTourCallback.bind(Object(Z.a)(Object(Z.a)(a))),a.FetchAllTours=new re,a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"ShowMoreCallback",value:function(){console.log("===============> ShowTour:ShowMoreCallback"),this.FetchAllTours.get_all_tours(this.state.CurrentOrder,5,this.FetchReceiveTourCallback),this.setState(function(e){return{Loading:!0}})}},{key:"componentDidMount",value:function(){console.log("===============> ShowTour:componentDidMount"),this.FetchAllTours.get_all_tours(this.state.CurrentOrder,5,this.FetchReceiveTourCallback)}},{key:"FetchReceiveTourCallback",value:function(e,t){var a=this;console.log("===============> ShowTour.FetchReceiveTourCallback",t);for(var n=this.state.ListTour,r=0;r<t.length;r++)n.push(t[r]);5===t.length?this.setState(function(e){return{Loading:!1,CurrentOrder:a.state.CurrentOrder+5,ListTour:n}}):this.setState(function(e){return{Loading:!1,Max:!0,CurrentOrder:a.state.CurrentOrder+t.length,ListTour:n}})}},{key:"render",value:function(){return console.log("===============> Show_tour.render()",this.state),this.state.Max?this.condition=0:this.state.Loading?this.condition=1:this.condition=2,r.a.createElement("div",{className:"container mgtb"},1!==this.condition&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tourlist"},r.a.createElement("h1",{className:"mb-5"},"Tour List"))),r.a.createElement("ul",null,this.state.ListTour.map(function(e){return r.a.createElement("li",{key:e._id,className:"card mb-5 card-size"},r.a.createElement("img",{src:e.imgsrc,alt:"sample image",className:"mb-3",height:"350px"}),r.a.createElement("div",{className:"showtour-content"},r.a.createElement("h3",{className:"mb-3"},e.name),r.a.createElement("p",null,r.a.createElement(G.d,{className:"mr-3 mb-1"}),e.dayDuration," Day(s) ",e.nightDuration," Night(s)"),r.a.createElement("p",null,r.a.createElement(G.b,{className:"mr-3 mb-1"}),"Fly with ",e.airline),r.a.createElement("p",null,r.a.createElement(G.a,{className:"mr-3 mb-1"}),"Current Seat : ",e.currentSeat,"/",e.maxSeat," Seats"),r.a.createElement(h.a,{className:"",to:"/tours/id=".concat(e._id)},"Read More...")))})),1===this.condition&&r.a.createElement("button",{className:"GeneralButtonTour mgb"}," 'Now Loading!' "),2===this.condition&&r.a.createElement("button",{className:"ButtonMoreTour GeneralButtonTour",onClick:this.ShowMoreCallback}," ",'"More Tour!"'," "))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.state;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("center",null,r.a.createElement("h2",{className:"mt-5 mgbii"},"Why Tour With To-ur world ?"),r.a.createElement("div",{className:"Introduce"},r.a.createElement("h3",null,"Can Create Your Own Tour"),r.a.createElement("p",null,"We will make your dream trip come true, just tell me your wish.")),r.a.createElement("div",{className:"Introduce"},r.a.createElement("h3",null,"Can Create Your Own Tour"),r.a.createElement("p",null,"We will make your dream trip come true, just tell me your wish.")),r.a.createElement("div",{className:"Introduce"},r.a.createElement("h3",null,"Can Create Your Own Tour"),r.a.createElement("p",null,"We will make your dream trip come true, just tell me your wish.")),r.a.createElement("div",{className:"Introduce"},r.a.createElement("h3",null,"Can Create Your Own Tour"),r.a.createElement("p",null,"We will make your dream trip come true, just tell me your wish.")),r.a.createElement("div",{className:"Introduce"},r.a.createElement("h3",null,"Can Create Your Own Tour"),r.a.createElement("p",null,"We will make your dream trip come true, just tell me your wish.")),r.a.createElement(h.a,{to:"/tours"},r.a.createElement("button",{className:"but"},"Book Tour Now")))))}}]),t}(n.Component),se="/tours/browse",ie="/tours/create",ce="/users/current/tours",ue={headers:{Authorization:"JWT "+q.getJwt()}};function me(){return x.get(se,ue)}function de(e){console.log(e),console.log(ue);var t=e.name,a=e.price,n=e.dest,r=e.dayDuration,l=e.nightDuration,o=e.startBookDate,s=e.startBookTime,i=e.endBookDate,c=e.endBookTime,u=e.departDate,m=e.returnDate,d=e.airline,h=e.seat,g=e.food,p=e.detail,b=e.highlight,f=e.imgsrc;return x.post(ie,{name:t,price:a,dest:n,dayDuration:r,nightDuration:l,startBookDate:o,startBookTime:s,endBookDate:i,endBookTime:c,departDate:u,returnDate:m,airline:d,seat:h,food:g,detail:p,highlight:b,imgsrc:f},ue)}n.Component;var he="/users";var ge=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={users:[],isLoaded:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getUser",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.prev=1,e.next=4,x.get(he);case 4:t=e.sent,console.log(t.data.users),a=t.data.users.user,this.setState({users:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:this.setState({isLoaded:!0});case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this.state,t=e.users;return e.isLoaded?(console.log(t),t&&0!=t.length?r.a.createElement("div",{className:"container mgtb"},r.a.createElement("div",{className:"profile-container bgdark"},r.a.createElement("h1",{className:"user-head"},"User List"),r.a.createElement("ul",null,t.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"user-content"},r.a.createElement("p",null,"Display Name : ",e.displayName),r.a.createElement("p",null,"Email Address : ",e.email),r.a.createElement("p",null,r.a.createElement(h.a,{to:"/users/".concat(e.username)},"See more"))))})))):r.a.createElement("h1",null,"notFoundUser")):r.a.createElement("h1",null,"isLoaded")}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={users:[],isLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"getUser",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/users").then(function(e){e.json()}).then(function(t){return e.setState({users:t,isLoaded:!0})}).catch(function(e){console.log(e)})}},{key:"renderUser",value:function(){return this.state.users.map(function(e){return r.a.createElement("li",null,e.message)})}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.users;return t?r.a.createElement("div",{className:"HomePage"},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide mb-5","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{className:"d-block w-100",width:"640",height:"360",src:"https://www.japan-guide.com/thumb/XYZeXYZe2172_1680.jpg",alt:"First slide"}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h5",null,"TO-UR WORLD"),r.a.createElement("p",null,"Nuttapon Wachakitwanit"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100 ",width:"640",height:"360",src:"https://www.japan-guide.com/thumb/XYZeXYZe2172_1680.jpg",alt:"Second slide"}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h5",null,"TO-UR WORLD"),r.a.createElement("p",null,"Nuttapon Wachakitwanit"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100",width:"640",height:"360",src:"https://www.japan-guide.com/thumb/XYZeXYZe2172_1680.jpg",alt:"Third slide"}),r.a.createElement("div",{className:"carousel-caption d-none d-md-block"},r.a.createElement("h5",null,"TO-UR WORLD"),r.a.createElement("p",null,"Nuttapon Wachakitwanit")))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))),r.a.createElement("div",{className:"newsletterr"},r.a.createElement("div",{className:"a b"},r.a.createElement("div",{className:"c"},r.a.createElement("p",{className:"ab"},'"Subscribe now FREE! to get our update information for the best deals and discount on your wonderful trip"')),r.a.createElement("div",{className:"ac"},r.a.createElement("div",{className:"ad"})),r.a.createElement("div",{className:"ae"},r.a.createElement("button",{className:"ba"},r.a.createElement(G.h,{className:"ayy"}),"Subscribe")))),r.a.createElement("ul",null,a&&a.map(function(e){return r.a.createElement("li",{key:e.id},e.name,"|",e.email)}),";")):r.a.createElement("h1",null,"Loading")}}]),t}(n.Component),be=function(){return r.a.createElement("h1",null,"Not Found")},fe=a(166),ve=a(171),Ee=a(168);function ke(){var e=Object(fe.a)(["\n    display: block;\n    margin: auto auto;\n"]);return ke=function(){return e},e}var Ne=Object(ve.a)(ke()),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement(Ee.HashLoader,{className:Ne,sizeUnit:"px",size:100,color:"#123abc",loading:this.state.loading}))}}]),t}(r.a.Component),Oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user,isLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){var e=this.state,t=e.user;return e.isLoaded?t?r.a.createElement("div",{className:"container text-center profile-infor mt-2"},r.a.createElement("ul",{className:"nav flex-column nav-pills pdb pdl"},r.a.createElement("img",{className:"profileimg mgt img-thumbnail rounded",src:t.info.imgsrc,alt:"profile"}),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",exact:!0,to:"/profile"},r.a.createElement("span",{className:"black"},"Profile"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile/myCard"},r.a.createElement("span",{className:"black"},"My Cards"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile/purchaseList"},r.a.createElement("span",{className:"black"},"Purchase List"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile/myBooking"},r.a.createElement("span",{className:"black"},"My Booking"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile/myCard"},r.a.createElement("span",{className:"black"},"Offers"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{className:"nav-link",to:"/profile/myTour"},r.a.createElement("span",{className:"black"},"My Tour"))))):r.a.createElement("h1",null,"Login"):r.a.createElement(ye,null)}}]),t}(n.Component),je=function(e){return 2===e?"Admin":1===e?"Tour Operation":"User"},we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user,isLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!0});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoaded,n=t.info,l=n.displayName,o=n.username,s=n.email,i=n.gender,c=n.registerDate,u=n.status,m=je(u),d=c.replace("T"," ").replace("Z"," ");return a?(console.log(t),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("h1",{className:"profile-head"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Oe,{user:t})),r.a.createElement("div",{className:"col-md-8 mt-2"},r.a.createElement("div",{className:"profile-infor mr-5"},r.a.createElement("div",{className:"profile-infor "},r.a.createElement("h4",null,l," (",m,")"),r.a.createElement("h5",null,"@",o),r.a.createElement("h5",null,"Gender: ",i)),r.a.createElement("div",{className:"profile-infor "},r.a.createElement("h4",null,r.a.createElement(G.g,{className:"blue mr-2"}),s),r.a.createElement("h5",null,"\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48 ",d)))))))):r.a.createElement("h1",null,"isLoading")}}]),t}(n.Component),De=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",price:"",dest:"",dayDuration:"",nightDuration:"",startBookDate:"",startBookTime:"",endBookDate:"",endBookTime:"",departDate:"",returnDate:"",airline:"",seat:"",food:"",detail:"",highlight:"",imgsrc:""},errors:{}},a.schema={name:N.a.string().required().label("Name"),price:N.a.number().required().min(0).label("Price"),dest:N.a.string().required().label("Destination"),dayDuration:N.a.number().integer().required().min(0).label("DayDuration"),nightDuration:N.a.number().integer().required().min(0).label("NightDuration"),startBookDate:N.a.string().required().label("StartBookDate"),startBookTime:N.a.string().required().label("StartBookTime"),endBookDate:N.a.string().required().label("EndBookDate"),endBookTime:N.a.string().required().label("EndBookTime"),departDate:N.a.string().required().label("DepartDate"),returnDate:N.a.string().required().label("ReturnDate"),airline:N.a.string().required().label("Airline"),seat:N.a.number().integer().min(0).required().label("Seat"),food:N.a.number().integer().min(0).required().label("Food"),detail:N.a.string().required().label("Detail"),highlight:N.a.string().required().label("Highlight"),imgsrc:N.a.string().required().label("Imgsrc")},a.doSubmit=Object(f.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de(a.state.data);case 3:t=e.sent,console.log(t),window.location="/",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),e.t0.response&&e.t0.response.status>=400&&e.t0.response.status<500&&(n=e.t0.response.data.errors,console.log(JSON.stringify(n)),n?n.forEach(function(e){C.toast.error(" ".concat(e.param,": ").concat(e.msg))}):C.toast.error("".concat(e.t0.response.data.message)));case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container addtour form-container mgtb"},r.a.createElement("h2",null,"Add Tour"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name","text","firstname"),this.renderInput("price","Price","number","price"),this.renderInput("dest","Destination","text","destination"),this.renderInput("dayDuration","Day Duration","text","day duration"),this.renderInput("nightDuration","Night Duration","text","night duration"),this.renderInput("startBookDate","Booking Date","date","booking date"),this.renderInput("startBookTime","Booking Time","time","booking"),this.renderInput("endBookDate","End Booking Date","date","booking date"),this.renderInput("endBookTime","End Booking Time","time","end booking"),this.renderInput("departDate","Departure Date","date","departure date"),this.renderInput("returnDate","Return Date","date","departure time"),this.renderInput("airline","Airline","text","airline"),this.renderInput("seat","Seat","number","seat"),this.renderInput("food","Food","text","food"),this.renderTextarea("detail","Detail","text","detail"),this.renderTextarea("highlight","Highlight","text","highlight"),this.renderInput("imgsrc","Imgsrc","text","imgsrc"),r.a.createElement("div",{className:"mgt"}),this.renderButton("Add Tour")))}}]),t}(D),Se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",price:"",destination:"",dayDuration:"",nightDuration:"",startBookDate:"",startBookTime:"",departDate:"",returnDate:"",airline:"",maxSeat:"",currentSeat:"",food:"",detail:"",highlight:""},errors:{}},a.schema={name:N.a.string().required().label("Name"),price:N.a.number().required().min(0).label("Price"),destination:N.a.string().required().label("Destination"),dayDuration:N.a.number().integer().required().min(0).label("DayDuration"),nightDuration:N.a.number().integer().required().min(0).label("NightDuration"),startBookDate:N.a.string().required().label("StartBookDate"),startBookTime:N.a.string().required().label("StartBookTime"),departDate:N.a.string().required().label("DepartDate"),returnDate:N.a.string().required().label("ReturnDate"),airline:N.a.string().required().label("Airline"),maxSeat:N.a.number().integer().min(0).required().label("Max Seat"),currentSeat:N.a.number().integer().min(0).required().label("Current Seat"),food:N.a.number().integer().min(0).required().label("Food"),detail:N.a.string().required().label("Detail"),highlight:N.a.string().required().label("Highlight")},a.doSubmit=function(){console.log("Submitted"),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container addtour form-container mgtb"},r.a.createElement("h2",null,"Edit Tour"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("name","Name","text","firstname"),this.renderInput("price","Price","number","price"),this.renderInput("destination","Destination","text","destination"),this.renderInput("dayDuration","Day Duration","text","day duration"),this.renderInput("nightDuration","Night Duration","text","night duration"),this.renderInput("startBookDate","Booking Date","date","booking date"),this.renderInput("startBookTime","Booking Time","time","booking time"),this.renderInput("departDate","Departure Date","date","departure date"),this.renderInput("returnDate","Return Date","date","departure time"),this.renderInput("airline","Airline","text","airline"),this.renderInput("maxSeat","Max Seat","number","max seat"),this.renderInput("currentSeat","Current Seat","number","current seat"),this.renderInput("food","Food","text","food"),this.renderTextarea("detail","Detail","text","detail"),this.renderTextarea("highlight","Highlight","text","highlight"),r.a.createElement("div",{className:"mgt"}),this.renderButton("Confirm Edit")))}}]),t}(D),_e="/users/signup";function Ce(e){var t=e.email,a=e.password,n=e.username,r=e.displayName,l=e.imgsrc,o=e.gender;return x.post(_e,{email:t,password:a,username:n,displayName:r,imgsrc:l,gender:o}).then(function(e){console.log(JSON.stringify(e))})}var xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:"",username:"",displayName:"",imgsrc:"",gender:""},genderOption:[{_id:"male",name:"male"},{_id:"female",name:"female"},{_id:"unknown",name:"unknown"}],errors:{}},a.schema={email:N.a.string().required().email().label("Email"),password:N.a.string().required().min(5).label("Password"),username:N.a.string().required().label("Username"),displayName:N.a.string().required().label("DisplayName"),imgsrc:N.a.string().required().label("Imgsrc"),gender:N.a.string().required().label("Gender")},a.doSubmit=Object(f.a)(b.a.mark(function e(){var t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(a.state.data);case 3:t=e.sent,console.log(t),window.location="/",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),e.t0.response&&e.t0.response.status>=400&&e.t0.response.status<500&&((n=e.t0.response.data.errors)?n.forEach(function(e){C.toast.error(" ".concat(e.param,": ").concat(e.msg))}):C.toast.error("".concat(e.t0.response.data.error.message)));case 12:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register form-container mgtb "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"register-leftside d-md-flex flex-column d-none "}),r.a.createElement("div",{className:"register-rightside"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("email","Email","email","email"),this.renderInput("password","Password","password","password"),this.renderInput("username","Username","text","username"),this.renderInput("displayName","DisplayName","text","displayname"),this.renderInput("imgsrc","Imgsrc","text","imgsrc"),this.renderSelect("gender","Gender",this.state.genderOption),r.a.createElement("div",{className:"mgt"}),this.renderButton("Register"))))))}}]),t}(D),Le=a(38),Te=Le._start_url,Ie=Le._domain,Be=Le._port,Fe=a(38)._path,qe=function(){function e(){Object(i.a)(this,e),console.log("===============> FetchUser.constructor"),this.SumLink=Te+Ie+":"+Be,this.PostData={},this.SendData={},this.SendInformation={},this.HandleObject=new M}return Object(c.a)(e,[{key:"login",value:function(e,t,a){var n=this;console.log("===============> FetchUser.login"),this.PostData.email=e,this.PostData.password=t,this.Request=new Request(this.SumLink+Fe._login,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.PostData)}),fetch(this.Request).then(function(e){return n.SendInformation.status=e.status,n.SendInformation.url=e.url,e.json()}).then(function(e){console.log("=====> FetchUser.login : json ",e),n.SendData=n.HandleObject.convert_user_login(e),a(n.SendInformation,n.SendData)})}}]),e}(),Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).schema={username:N.a.string().required().label("Username"),password:N.a.string().required().label("Password")},a.state={submit:{username:"",password:""},errors:{},isLoading:!0,data:[],info:[]},a.fetchLoginCallback=a.fetchLoginCallback.bind(Object(Z.a)(Object(Z.a)(a))),a.handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.UserFetch=new qe}},{key:"handleChange",value:function(e){}},{key:"handleSubmit",value:function(e){console.log("login with ".concat(this.state.submit.username,":").concat(this.state.submit.password)),this.props.history.push("/")}},{key:"fetchLoginCallback",value:function(e,t){this.setState(function(a){return{isLoading:!1,data:t,info:e}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container login mgtb"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderButton("Login")))}}]),t}(D),Me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){q.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(n.Component),Ae="/users/current/bookings",Ue={headers:{Authorization:"JWT "+q.getJwt()}};function Re(e){return x.delete(Ae+"/"+e,Ue)}var We=a(50),Je=a.n(We);function Ye(e,t,a){var n=(t-1)*a;return Je()(e).slice(n).take(a).value()}var ze=function(e){var t=e.itemsCount,a=e.pageSize,n=e.onPageChange,l=e.currentPage,o=Math.ceil(t/a);if(1===o)return null;var s=Je.a.range(1,o+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},s.map(function(e){return r.a.createElement("li",{key:e,className:e===l?"page-item active":"page-item"},r.a.createElement("a",{className:"page-link",onClick:function(){return n(e)}},e))})))},Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handlePageChange=function(e){a.setState({currentPage:e})},a.handleDelete=function(){var e=Object(f.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoaded:!1}),e.next=3,a.removeBooking(t);case 3:return e.next=5,a.getCurrentBooking();case 5:a.setState({isLoaded:!0});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={booking:[],isLoaded:!1,pageSize:4,currentPage:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getCurrentBooking",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get(Ae,Ue);case 3:t=e.sent,a=t.data.booking,this.setState({booking:a}),C.toast.info("Update BookingList"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n=e.t0.response.data.error.message,C.toast.error("".concat(n));case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"removeBooking",value:function(){var e=Object(f.a)(b.a.mark(function e(t){var a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re(t);case 3:a=e.sent,n=a.data.message,C.toast.success("".concat(n)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r=e.t0.response.data.error.message,C.toast.error("".concat(r));case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentBooking();case 2:this.setState({isLoaded:!0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showDate",value:function(e){return e.replace("T"," ").replace("Z"," ")}},{key:"render",value:function(){var e=this,t=this.state,a=t.booking,n=t.isLoaded,l=t.currentPage,o=t.pageSize,s=this.state.booking.length,i=Ye(a,l,o);return n?(console.log(a),r.a.createElement("div",{className:"profile-infor mr-5"},r.a.createElement("p",null,s," bookings"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TourName"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,i.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement(h.a,{className:"text-primary",to:"/tours/id=".concat(t.tourID)},t.tourName)),r.a.createElement("td",null,t.amountBooking),r.a.createElement("td",null,e.showDate(t.bookingDate)),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.handleDelete(t.id)},className:"btn btn-danger btn-sm"},"Delete")))}))),r.a.createElement(ze,{itemsCount:s,pageSize:o,onPageChange:this.handlePageChange,currentPage:l}))):r.a.createElement(ye,null)}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("h1",{className:"profile-head"},"My Booking"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Oe,{user:e})),r.a.createElement("div",{className:"col-md-8 mt-2"},r.a.createElement(Ge,null)))))}}]),t}(n.Component),Ze=function(e){var t=e.value,a=e.onChange;return r.a.createElement("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:t,onChange:function(e){return a(e.currentTarget.value)}})},Xe=(a(236),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={count:0,tours:[],searchQuery:""},a.handleSearch=function(e){a.setState({searchQuery:e})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:t=e.sent,a=t.data,n=a.tours,r=a.count,this.setState({tours:n,count:r}),console.log(n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.tours,a=e.count,n=e.searchQuery;console.log(t),console.log(a);var l=t;n&&(l=t.filter(function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())}));var o=l.map(function(e){return r.a.createElement("li",{key:e._id},e.name)});return console.log(l),console.log(n),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"cancel-booking "},r.a.createElement("center",{className:"mt-2 mb-2"},r.a.createElement("h1",{className:"mb-4 "},"Are you sure ?"),r.a.createElement("button",{className:"btn btn-danger btn-lg mb-4 mr-4 "},"Delete ",r.a.createElement(G.i,{className:"ml-1"})),r.a.createElement("button",{className:"btn btn-primary btn-lg mb-4"},"Cancel ",r.a.createElement(G.c,{className:"ml-1"}))))),r.a.createElement("div",{className:"col-md-3"}),r.a.createElement(Ze,{value:n,onChange:this.handleSearch}),r.a.createElement("div",null,o)))}}]),t}(n.Component)),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user},console.log(a.state.user),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("h1",{className:"profile-head"},"My Cards"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Oe,{user:e})))))}}]),t}(n.Component),$e="/tours/",Ve={headers:{Authorization:"JWT "+q.getJwt()}};function Ke(e,t){return x.post($e+e,t,Ve)}var et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={id:a.props.match.params.id,tour:[],token:a.props.token,isLoaded:!1,isLoadToken:!1,numberOfBooking:0,textLoad:"Now Loading",textBooking:"Now Booking",nowBooking:!1,user:a.props.user},a.count=0,a.handleChange=a.handleChange.bind(Object(Z.a)(Object(Z.a)(a))),a.changeLoading=a.changeLoading.bind(Object(Z.a)(Object(Z.a)(a))),a.changeBooking=a.changeBooking.bind(Object(Z.a)(Object(Z.a)(a))),a.BookingOneTour=a.BookingOneTour.bind(Object(Z.a)(Object(Z.a)(a))),a.intervalLoadingID=setInterval(a.changeLoading,200),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getOneTour",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.prev=1,e.next=4,n=this.state.id,x.get($e+n);case 4:t=e.sent,a=t.data.tour,this.setState({tour:a[0]}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:clearInterval(this.intervalLoadingID),this.setState({isLoaded:!0});case 13:case"end":return e.stop()}var n},e,this,[[1,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"BookingOneTour",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.intervalBookingID=setInterval(this.changeBooking,10),console.log("Booking One Tour"),this.setState(function(e){return{nowBooking:!0}}),t={amountBooking:this.state.numberOfBooking},e.prev=4,e.next=7,Ke(this.state.id,t);case 7:a=e.sent,C.toast.success("".concat(a.data.message)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),(n=e.t0.response.data.errors)?n.forEach(function(e){C.toast.error("".concat(e.param,": ").concat(e.msg))}):401===e.t0.response.status?C.toast.error("Please Login..."):C.toast.error("".concat(e.t0.response.data.message));case 15:clearInterval(this.intervalBookingID),this.setState(function(e){return{textBook:"Now Booking",nowBooking:!1}});case 17:case"end":return e.stop()}},e,this,[[4,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getOneTour()}},{key:"handleChange",value:function(e){this.setState({numberOfBooking:e.target.value})}},{key:"changeLoading",value:function(){var e="";0===this.count?(e="",this.count=1):1===this.count?(e=".",this.count=2):2===this.count?(e="..",this.count=3):(e="...",this.count=0),this.setState(function(t){return{textLoad:"Now Loading"+e}})}},{key:"changeBooking",value:function(){var e="";0===this.count?(e="",this.count=1):1===this.count?(e=".",this.count=2):2===this.count?(e="..",this.count=3):(e="...",this.count=0),this.setState(function(t){return{textBooking:"Now Booking"+e}})}},{key:"handleSubmit",value:function(e){this.BookingOneTour()}},{key:"render",value:function(){var e=this.state,t=e.tour,a=e.isLoaded;console.log("render have state is ",this.state),null===this.state.user?(console.log("Test user is null"),this.state.user={info:{status:0}}):console.log("Test user is defined");var n=this.state.user;if(!a)return r.a.createElement("h1",null,this.state.textLoad);if(!t||0===t.length)return r.a.createElement("h1",null,"notFoundTour");console.log(t);var l=t.maxSeat-t.currentSeat;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-7 mt-4"},r.a.createElement("img",{src:t.imgsrc,alt:"sample image",height:"320px",width:"400px"})),r.a.createElement("div",{className:"col-md-5 mt-4 mb-4"},r.a.createElement("h1",{className:"mgbi"},t.name),r.a.createElement("h5",{className:"mgbi"},"Fly with ",t.airline),r.a.createElement("h5",{className:"mgbi"},t.dayDuration," Day(s) ",t.nightDuration," Night(s)"),r.a.createElement("h5",{className:"mgbi"},"Price: ",t.price," $"),r.a.createElement("h5",{className:"mgbi"},"Current Seat : ",t.currentSeat,"/",t.maxSeat," Seats"),r.a.createElement("h5",{className:"mgbi"},"Operated by ",t.operatorName),0===n.info.status&&r.a.createElement("label",null,r.a.createElement("h5",null,"Amount of Booking"),r.a.createElement("input",{type:"number",min:"0",max:l,value:this.state.numberOfBooking,onChange:this.handleChange}),!this.state.nowBooking&&r.a.createElement("button",{className:"btn btn-primary ml-4 mb-1",onClick:this.BookingOneTour},"Book Seat(s)"),this.state.nowBooking&&r.a.createElement("button",{className:"btn btn-primary"},this.state.textBooking)),0!==n.info.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"submit",value:"Delete Tour",className:"btn btn-danger  mt-4"}),r.a.createElement("input",{type:"submit",value:"Edit Tour",className:"btn btn-primary  ml-4 mt-4"}))))))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("h1",{className:"profile-head"},"Purchase List"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Oe,{user:e})))))}}]),t}(n.Component),at=(a(114),function(e){function t(e){var a;return Object(i.a)(this,t),console.log("===============> FetchClass.constructor"),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={IsLoading:!0},a.FetchCallback=a.FetchCallback.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("===============> FetchClass.componentDidMount"),this.target_type="user_name",this.target_data="jui",this.fetch_data=new Y,this.fetch_data.get_specific_user({type:this.target_type,data:this.target_data},this.FetchCallback)}},{key:"FetchCallback",value:function(e,t){console.log("===============> FetchClass.FetchCallback"),console.log("=====> FetchCallback.ReceiveData ",t),this.setState(function(a){return{IsLoading:!1,Data:t,Information:e}})}},{key:"render",value:function(){if(console.log("===============> FetchClass.render"),this.state.IsLoading)return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to page for testing fetch"),r.a.createElement("h2",null,"Now Loading"));var e=this.state.Data;return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to page for testing fetch"),r.a.createElement("h3",null,"General Information"),r.a.createElement("ul",null,r.a.createElement("li",null,"url ",this.state.Information.url),r.a.createElement("li",null,"status ",this.state.Information.status)),r.a.createElement("h3",null,"Data"),r.a.createElement("ul",null,r.a.createElement("p",null,"Example Users who have ",this.target_type," is ",this.target_data),e.have&&r.a.createElement("p",null," user id is ",e.id,r.a.createElement("br",null),"user email is ",e.email,r.a.createElement("br",null),"user Google? is ",e.use_google_id," "),!e.have&&r.a.createElement("p",null,"Do not have user have email ",e.email)))}}]),t}(r.a.Component)),nt=function(e){function t(e){var a;return Object(i.a)(this,t),console.log("===============> PostClass.constructor"),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={IsLoading:!0},a.email="suck@gmail.com",a.password="123",a.FetchLoginCallback=a.FetchLoginCallback.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("===============> PostClass.componentDidMount"),this.UserFetch=new qe,this.UserFetch.login(this.email,this.password,this.FetchLoginCallback)}},{key:"FetchLoginCallback",value:function(e,t){console.log("===============> PostClass.FetchLoginCallback"),console.log("=====> FetchLoginCallback.ReceiveData ",t),this.setState(function(a){return{IsLoading:!1,Data:t,Information:e}})}},{key:"render",value:function(){return console.log("===============> PostClass.render"),this.state.IsLoading?r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to page for test fetch_post"),r.a.createElement("h2",null,"You use login"),r.a.createElement("ul",null,r.a.createElement("li",null,"email is ",this.email),r.a.createElement("li",null,"password is ",this.password),r.a.createElement("li",null,"Now Loading...."))):this.state.Data.have?r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to page for test fetc_post"),r.a.createElement("h2",null,"You use login"),r.a.createElement("ul",null,r.a.createElement("li",null,"email is ",this.email),r.a.createElement("li",null,"password is ",this.password),r.a.createElement("li",null,"Ressult is True"),r.a.createElement("ul",null,r.a.createElement("li",null,"ID is ",this.state.Data.id),r.a.createElement("li",null,"Email is ",this.state.Data.email),r.a.createElement("li",null,"token is ",this.state.Data.token)))):r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to page for test fetch_post"),r.a.createElement("h2",null,"You use login"),r.a.createElement("ul",null,r.a.createElement("li",null,"email is ",this.email),r.a.createElement("li",null,"password is ",this.password),r.a.createElement("li",null,"Result is False"),r.a.createElement("li",null,"Please check user_email or password")))}}]),t}(r.a.Component),rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"mgtb container"},r.a.createElement("h1",null,"Create Tour"))}}]),t}(n.Component),lt=a(169),ot=a.n(lt),st=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={tours:[],isLoaded:!1,pageSize:4,currentPage:1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getOwnTour",value:function(){var e=Object(f.a)(b.a.mark(function e(){var t,a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),e.prev=1,e.next=4,x.get(ce,ue);case 4:t=e.sent,a=t.data.tours,this.setState({tours:a}),C.toast.info("Update TourList"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),n=e.t0.response.data.error.message,C.toast.error("".concat(n));case 14:this.setState({isLoaded:!0});case 15:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getOwnTour()}},{key:"render",value:function(){var e=this.state,t=e.tours,a=e.isLoaded,n=e.currentPage,l=e.pageSize,o=t.length,s=Ye(t,n,l);return a?r.a.createElement("div",null,r.a.createElement("p",null,o," ownTour"),r.a.createElement("table",{className:"table"},r.a.createElement("thread",null,r.a.createElement("tr",null,r.a.createElement("th",null,"TourName"))),r.a.createElement("tbody",null,s.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(ot.a,{className:"text-primary",to:"/tours/id=".concat(e._id)},e.name)))})))):r.a.createElement(ye,null)}}]),t}(n.Component),it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user,isLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isLoaded:!0});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user;return e.isLoaded?(console.log(t),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-container bglight mgtb"},r.a.createElement("h1",{className:"profile-head"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(Oe,{user:t})),r.a.createElement("div",{className:"col-md-8 mt-2"},r.a.createElement("div",{className:"profile-infor mr-5"},r.a.createElement(st,null))))))):r.a.createElement("h1",null,"isLoading")}}]),t}(n.Component),ct=a(322),ut=a(318),mt=a(320),dt=(a(309),a(311),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={user:[],jwt:null,isLoaded:!1},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=q.getCurrentUser(),t=q.getJwt();this.setState({user:e,jwt:t,isLoaded:!0})}},{key:"render",value:function(){var e=this.state,t=e.jwt,a=e.user,n=e.isLoaded;return console.log(t),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.ToastContainer,null),r.a.createElement(z,{user:a}),r.a.createElement("div",null,r.a.createElement(ct.a,null,r.a.createElement(ut.a,{path:"/",exact:!0,to:!0,component:pe}),r.a.createElement(ut.a,{path:"/tour",component:le}),r.a.createElement(ut.a,{path:"/not-found",component:be}),r.a.createElement(ut.a,{path:"/register",component:xe}),r.a.createElement(ut.a,{path:"/tourIntroduce",render:function(){return r.a.createElement(oe,{user:a})}}),r.a.createElement(ut.a,{path:"/login",component:Pe}),r.a.createElement(ut.a,{path:"/logout",component:Me}),r.a.createElement(ut.a,{path:"/tours/id=:id",render:function(e){return r.a.createElement(et,Object.assign({},e,{token:t,user:a}))}}),r.a.createElement(ut.a,{path:"/tours",render:function(e){return r.a.createElement(le,Object.assign({},e,{token:t}))}}),r.a.createElement(ut.a,{path:"/users",render:function(e){return r.a.createElement(ge,Object.assign({},e,{token:t}))}}),r.a.createElement(ut.a,{path:"/createTour",render:function(){return r.a.createElement(rt,{user:a})}}),r.a.createElement(ut.a,{path:"/addTour",component:De}),r.a.createElement(ut.a,{path:"/editTour",component:Se}),r.a.createElement(ut.a,{path:"/cancelBook",component:Xe}),r.a.createElement(ut.a,{path:"/profile/myBooking",render:function(e){return r.a.createElement(He,Object.assign({},e,{user:a,token:t}))}}),r.a.createElement(ut.a,{path:"/profile/myTour",render:function(e){return r.a.createElement(it,Object.assign({},e,{user:a}))}}),r.a.createElement(ut.a,{path:"/profile/myCard",render:function(){return r.a.createElement(Qe,{user:a})}}),r.a.createElement(ut.a,{path:"/profile/purchaseList",render:function(){return r.a.createElement(tt,{user:a})}}),r.a.createElement(ut.a,{path:"/profile",render:function(){return r.a.createElement(we,{user:a})}}),r.a.createElement(ut.a,{path:"/testfetch",component:at}),r.a.createElement(ut.a,{path:"/testpost",component:nt}),r.a.createElement(mt.a,{to:"/not-found"}))),r.a.createElement(H,null)):r.a.createElement("h1",null,"isLoading")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(313),a(315);o.a.render(r.a.createElement(s.a,null,r.a.createElement(dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t){e.exports={_start_url:"http://",_domain:"localhost",_port:"5000",_path:{_login:"/users/login",_all_tours:"/tours/browse",_all_users:"/users"}}},74:function(e,t,a){},85:function(e,t,a){}},[[116,2,1]]]);
//# sourceMappingURL=main.9e336575.chunk.js.map